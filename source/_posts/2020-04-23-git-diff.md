---
title: Git 版本控制系統 - 比對檔案版本差異與標示說明
description:
  [
    目前我們已經學會如何提交、切換、還原與重製版本了，現在只差比對了；身為版控的主流，Git 本身就已擁有強大的版本比對功能，在我們之前的分支合併衝突文章中，Git 之所以能夠告訴我們在何處發生了衝突，就是因為在內部運用了版本比對功能，事實上，我們也可以自己進行版本比對，這樣在合併分支時就不會造成所謂的衝突，除此之外，當你今天想要了解特定版本之間的差異性，也可以透過版本比對功能一目了然，省去了大部分時間。,
  ]
categories: [Git]
tags: [Git]
date: 2020-04-23 20:31:21
updated: 2020-04-23 20:31:21
---

## 前言

目前我們已經學會如何提交、切換、還原與重製版本了，現在只差比對了；身為版控的主流，Git 本身就已擁有強大的版本比對功能，在我們之前的分支合併衝突文章中，Git 之所以能夠告訴我們在何處發生了衝突，就是因為在內部運用了版本比對功能，事實上，我們也可以自己進行版本比對，這樣在合併分支時就不會造成所謂的衝突，除此之外，當你今天想要了解特定版本之間的差異性，也可以透過版本比對功能一目了然，省去了大部分時間。

## 筆記重點

- 比對 HEAD 與工作目錄差異
- 比對 HEAD 與索引區差異
- 比對 HEAD 與指定版本差異
- 比對指定版本間差異

## 比對 HEAD 與工作目錄差異

讓我們先新增一個資料夾並提交數個 commit 紀錄：

```bash
mkdir project

cd project

git init
Initialized empty Git repository in C:/Users/x06u4/Desktop/project/.git/

echo '' > index.html

git add .

git commit -m 'add index.html'

echo '' > all.css

git add .

git commit -m 'add all.css'

... edit index.html

git commit -am 'edit index.html'

... edit all.css

git commit -am 'edit all.css'
```

這邊做一個補充：

```bash
git commit -am 'message'
```

這邊的 `-am` 代表 `-a -m`，可以使狀態為 `Changes not staged for commit` 的檔案直接被提交至數據庫，省略了 `git add .` 動作，但要注意 `Untracked files` 是不受作用的。

讓我們來看目前的日誌長什麼樣子：

![查看目前 commit 紀錄-1](https://i.imgur.com/PSHh9uB.png)

現在請隨意修改 `index.html` 與 `all.css` 成以下狀態：

![查看檔案狀態-1](https://i.imgur.com/mDIsqXQ.png)

在這邊我們只有將 `all.css` 的修改提交至索引區，而 `index.html` 的修改還是停留在工作目錄，接著請執行以下命令：

```bash
git diff
```

這是比對檔案中最基本的指令，